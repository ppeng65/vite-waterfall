import{o as a,a as r,j as n,G as w,H as $,t as x,g as d,I as T,J as D,i as L,e as g,q as k,l as c,n as y,m as z,p as N,K as O,u as C,L as S,b as V,M as R,k as M,N as F,O as j}from"./index.b93bf826.js";const q={class:"py-2 h-[80vh] flex flex-col"},U=n("h2",{class:"text-xl text-zinc-900 dark:text-zinc-200 font-bold mb-2 px-1"}," \u6240\u6709\u5206\u7C7B ",-1),G={class:"overflow-y-scroll"},H=["onClick"],K={name:"index",emits:["onItemClick"],setup(o){return(e,i)=>(a(),r("div",q,[U,n("ul",G,[(a(!0),r(w,null,$(e.$store.getters.categorys,(t,s)=>(a(),r("li",{key:t.id,class:"text-lg text-zinc-900 dark:text-zinc-300 px-1 py-1.5 duration-100 active:bg-zinc-100 dark:active:bg-zinc-900",onClick:u=>e.$emit("onItemClick",s)},x(t.name),9,H))),128))])]))}},P={class:"bg-white dark:bg-zinc-900 sticky top-0 left-0 z-10 duration-500"},X=["onClick"],E={name:"index",setup(o){const e=d(!1),i=()=>{e.value=!0},t=d({transform:"translateX(0)",width:"52px"}),s=d(0);let u=[];const m=l=>{l&&u.push(l)};T(()=>{u=[]});const h=d(null),{x:p}=D(h);L(s,l=>{const{left:_,width:b}=u[l].getBoundingClientRect();t.value={transform:`translateX(${p.value+_-10}px)`,width:b+"px"}});const f=l=>{s.value=l,e.value=!1,N(()=>{u[l].scrollIntoView()})};return(l,_)=>{const b=g("m-svg-icon"),B=g("m-popup");return a(),r("div",P,[n("ul",{ref_key:"ulTarget",ref:h,class:"relative flex overflow-x-auto p-1 pr-4 text-xs text-zinc-600 overflow-hidden"},[n("li",{ref:"sliderTarget",style:k(t.value),class:"absolute h-[22px] bg-zinc-900 dark:bg-zinc-800 rounded-lg duration-200"},null,4),n("li",{class:"fixed top-0 right-[-1px] h-4 px-1 flex items-center bg-white dark:bg-zinc-900 z-20 shadow-l-white dark:shadow-l-zinc",onClick:i},[c(b,{class:"w-1.5 h-1.5",name:"hamburger"})]),(a(!0),r(w,null,$(l.$store.getters.categorys,(v,I)=>(a(),r("li",{key:v.id,class:y(["shrink-0 px-1.5 py-0.5 z-10 duration-200",{"text-zinc-100":s.value===I}]),ref_for:!0,ref:m,onClick:he=>f(I)},x(v.name),11,X))),128))],512),c(B,{modelValue:e.value,"onUpdate:modelValue":_[0]||(_[0]=v=>e.value=v)},{default:z(()=>[c(K,{onOnItemClick:f})]),_:1},8,["modelValue"])])}}},J={class:"bg-white dark:bg-zinc-800 sticky top-0 left-0 w-full z-10 duration-500"},W=["onClick"],A={name:"index",setup(o){const e=d(!1),i=()=>{e.value=!e.value},t=d(0),s=u=>{t.value=u};return(u,m)=>{const h=g("m-svg-icon");return a(),r("div",J,[n("ul",{class:y(["w-[800px] relative flex flex-wrap justify-center overflow-x-auto px-[10px] py-1 text-xs text-zinc-600 duration-300 overflow-hidden mx-auto",[e.value?"h-[206px]":"h-[56px]"]])},[n("div",{class:"absolute right-1 bottom-1 z-20 p-1 rounded cursor-pointer duration-200 hover:bg-zinc-200 dark:hover:bg-zinc-900",onClick:i},[c(h,{name:e.value?"fold":"unfold",class:"w-1 h-1",fillClass:"fill-zinc-900 dark:fill-zinc-300"},null,8,["name"])]),(a(!0),r(w,null,$(u.$store.getters.categorys,(p,f)=>(a(),r("li",{key:p.id,class:y(["shrink-0 px-1.5 py-0 z-10 duration-200 text-zinc-900 dark:text-zinc-500 dark:hover:text-zinc-300 text-base font-bold h-4 leading-4 cursor-pointer hover:bg-zinc-200 dark:hover:bg-zinc-900 rounded mr-1 mb-1",{"text-zinc-900 dark:text-zinc-300 bg-zinc-200 dark:bg-zinc-900":t.value===f}]),onClick:l=>s(f)},x(p.name),11,W))),128))],2)])}}},Q={name:"index",setup(o){return O().dispatch("category/useCategoryData"),(i,t)=>C(S)?(a(),V(E,{key:0})):(a(),V(A,{key:1}))}},Y=()=>{const o=Math.floor(Math.random()*255),e=Math.floor(Math.random()*255),i=Math.floor(Math.random()*255);return`rgb(${o} ,${e}, ${i}, 0.5)`},Z={class:"bg-white dark:bg-zinc-900 xl:dark:bg-zinc-800 rounded pb-1"},ee=["src"],te={class:"hidden opacity-0 w-full h-full bg-zinc-900/50 absolute top-0 left-0 rounded duration-300 group-hover:opacity-100 xl:block"},oe=F("\u5206\u4EAB"),se={class:"text-sm mt-1 font-bold text-zinc-900 dark:text-zinc-300 px-1"},ne={class:"flex items-center mt-1 px-1"},le=["src"],ae={class:"text-sm text-zinc-500 ml-1"},ie={name:"item",props:{item:{type:Object,required:!0},width:{type:Number}},setup(o){return(e,i)=>{const t=g("m-button"),s=R("lazy");return a(),r("div",Z,[n("div",{class:"relative w-full rounded cursor-zoom-in group",style:k({backgroundColor:C(Y)()})},[M(n("img",{src:o.item.photo,alt:"",style:k({height:o.width/o.item.photoWidth*o.item.photoHeight+"px"}),class:"w-full rounded bg-transparent"},null,12,ee),[[s]]),n("div",te,[c(t,{class:"absolute top-1.5 left-1.5"},{default:z(()=>[oe]),_:1}),c(t,{class:"absolute top-1.5 right-1.5",type:"info",icon:"heart",iconClass:"fill-zinc-900 dark:fill-zinc-200"}),c(t,{class:"absolute bottom-1.5 left-1.5 bg-zinc-100/70",type:"info",size:"small",icon:"download",iconClass:"fill-zinc-900 dark:fill-zinc-200"}),c(t,{class:"absolute bottom-1.5 right-1.5 bg-zinc-100/70",type:"info",size:"small",icon:"full",iconClass:"fill-zinc-900 dark:fill-zinc-200"})])],4),n("p",se,x(o.item.title),1),n("div",ne,[M(n("img",{src:o.item.avatar,alt:"",class:"h-2 w-2 rounded-full"},null,8,le),[[s]]),n("span",ae,x(o.item.author),1)])])}}},ce=o=>j({url:"/pexels/list",method:"get",params:o}),re={class:""},ue={name:"index",setup(o){let e={page:1,size:20};const i=d(!1),t=d(!1),s=d([]),u=async()=>{if(t.value)return;s.value.length&&(e.page+=1);const m=await ce(e);console.log(m),e.page===1?s.value=m.list:s.value.push(...m.list),s.value.length===m.total&&(t.value=!0),i.value=!1};return(m,h)=>{const p=g("m-waterfall"),f=g("m-infinite");return a(),r("div",re,[c(f,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=l=>i.value=l),isFinished:t.value,onOnLoad:u},{default:z(()=>[c(p,{data:s.value,class:"px-1 w-full",nodeKey:"id",column:C(S)?2:5,picturePreReading:!1},{default:z(({item:l,width:_})=>[c(ie,{item:l,width:_},null,8,["item","width"])]),_:1},8,["data","column"])]),_:1},8,["modelValue","isFinished"])])}}},de={class:"h-full overflow-auto bg-white dark:bg-zinc-800 duration-500"},me={class:"max-w-screen-xl mx-auto relative m-1 xl:mt-4"},pe={name:"index",setup(o){return(e,i)=>(a(),r("div",de,[c(Q),n("div",me,[c(ue)])]))}};export{pe as default};
